import{_ as i,o as a,c as e,a2 as n}from"./chunks/framework.t1ycOn-0.js";const g=JSON.parse('{"title":"Troubleshooting Guide","description":"","frontmatter":{},"headers":[],"relativePath":"reference/troubleshooting.md","filePath":"reference/troubleshooting.md"}'),t={name:"reference/troubleshooting.md"};function l(p,s,h,o,r,k){return a(),e("div",null,[...s[0]||(s[0]=[n(`<h1 id="troubleshooting-guide" tabindex="-1">Troubleshooting Guide <a class="header-anchor" href="#troubleshooting-guide" aria-label="Permalink to &quot;Troubleshooting Guide&quot;">​</a></h1><p>Common issues and solutions for the KAOS.</p><h2 id="agent-issues" tabindex="-1">Agent Issues <a class="header-anchor" href="#agent-issues" aria-label="Permalink to &quot;Agent Issues&quot;">​</a></h2><h3 id="agent-stuck-in-pending-phase" tabindex="-1">Agent Stuck in Pending Phase <a class="header-anchor" href="#agent-stuck-in-pending-phase" aria-label="Permalink to &quot;Agent Stuck in Pending Phase&quot;">​</a></h3><p><strong>Symptoms:</strong> Agent status shows <code>phase: Pending</code> or <code>phase: Waiting</code></p><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modelapi,mcpserver</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>ModelAPI not ready</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># If not Ready, check ModelAPI troubleshooting section</span></span></code></pre></div></li><li><p><strong>MCPServer not ready</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcpserver</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># If not Ready, check MCPServer troubleshooting section</span></span></code></pre></div></li><li><p><strong>Peer agent not ready</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Agents in agentNetwork.access must be Ready first</span></span></code></pre></div></li></ol><h3 id="agent-pod-crashloopbackoff" tabindex="-1">Agent Pod CrashLoopBackOff <a class="header-anchor" href="#agent-pod-crashloopbackoff" aria-label="Permalink to &quot;Agent Pod CrashLoopBackOff&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Invalid MODEL_API_URL</strong></p><ul><li>Check if ModelAPI service exists</li><li>Verify endpoint is reachable</li></ul></li><li><p><strong>Image not found</strong></p><ul><li>Ensure <code>axsauze/kaos-agent:latest</code> is available</li><li>For remote clusters, push to registry</li></ul></li><li><p><strong>Python errors</strong></p><ul><li>Check agent server startup logs</li></ul></li></ol><h3 id="agent-returns-errors" tabindex="-1">Agent Returns Errors <a class="header-anchor" href="#agent-returns-errors" aria-label="Permalink to &quot;Agent Returns Errors&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check agent logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check memory events</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port-forward</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/my-agent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8000:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8000/memory/events</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>LLM connection failed</strong></p><ul><li>Verify MODEL_API_URL is correct</li><li>Check ModelAPI is responding</li></ul></li><li><p><strong>Tool execution failed</strong></p><ul><li>Check MCPServer logs</li><li>Verify tool arguments are valid</li></ul></li><li><p><strong>Delegation failed</strong></p><ul><li>Check peer agent is accessible</li><li>Verify peer agent name matches exactly</li></ul></li></ol><h2 id="modelapi-issues" tabindex="-1">ModelAPI Issues <a class="header-anchor" href="#modelapi-issues" aria-label="Permalink to &quot;ModelAPI Issues&quot;">​</a></h2><h3 id="modelapi-stuck-in-pending" tabindex="-1">ModelAPI Stuck in Pending <a class="header-anchor" href="#modelapi-stuck-in-pending" aria-label="Permalink to &quot;ModelAPI Stuck in Pending&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modelapi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Image pull error</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Events:&quot;</span></span></code></pre></div></li><li><p><strong>Insufficient resources</strong></p><ul><li>Hosted mode requires significant memory for models</li><li>Increase resource limits</li></ul></li><li><p><strong>Model download in progress (Hosted mode)</strong></p><ul><li>Large models can take 10+ minutes to download</li><li>Check logs for download progress:</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div></li></ol><h3 id="proxy-mode-not-connecting-to-backend" tabindex="-1">Proxy Mode Not Connecting to Backend <a class="header-anchor" href="#proxy-mode-not-connecting-to-backend" aria-label="Permalink to &quot;Proxy Mode Not Connecting to Backend&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check LiteLLM logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test connectivity from inside cluster</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://my-modelapi:8000/health</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Wrong apiBase URL</strong></p><ul><li>For Docker Desktop: use <code>http://host.docker.internal:&lt;port&gt;</code></li><li>For in-cluster: use service name</li></ul></li><li><p><strong>Backend not running</strong></p><ul><li>Verify Ollama/OpenAI is accessible</li></ul></li><li><p><strong>Firewall blocking connection</strong></p><ul><li>Check network policies</li></ul></li></ol><h3 id="hosted-mode-model-not-available" tabindex="-1">Hosted Mode Model Not Available <a class="header-anchor" href="#hosted-mode-model-not-available" aria-label="Permalink to &quot;Hosted Mode Model Not Available&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-modelapi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Model name incorrect</strong></p><ul><li>Use exact Ollama model name (e.g., <code>smollm2:135m</code>)</li></ul></li><li><p><strong>Insufficient disk space</strong></p><ul><li>Models require disk space for download</li></ul></li><li><p><strong>Download timeout</strong></p><ul><li>Large models may timeout; check readiness probe settings</li></ul></li></ol><h2 id="mcpserver-issues" tabindex="-1">MCPServer Issues <a class="header-anchor" href="#mcpserver-issues" aria-label="Permalink to &quot;MCPServer Issues&quot;">​</a></h2><h3 id="mcpserver-crashloopbackoff" tabindex="-1">MCPServer CrashLoopBackOff <a class="header-anchor" href="#mcpserver-crashloopbackoff" aria-label="Permalink to &quot;MCPServer CrashLoopBackOff&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-mcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-mcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Invalid toolsString syntax</strong></p><ul><li>Test Python code locally first</li><li>Check for syntax errors in logs</li></ul></li><li><p><strong>Package not found (mcp option)</strong></p><ul><li>Verify PyPI package name is correct</li><li>Package must implement MCP protocol</li></ul></li><li><p><strong>Missing dependencies</strong></p><ul><li>For toolsString, only standard library is available</li><li>Use <code>mcp</code> option for complex dependencies</li></ul></li></ol><h3 id="tools-not-discovered-by-agent" tabindex="-1">Tools Not Discovered by Agent <a class="header-anchor" href="#tools-not-discovered-by-agent" aria-label="Permalink to &quot;Tools Not Discovered by Agent&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check MCPServer is ready</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcpserver</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-mcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Test tools endpoint</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://my-mcp/mcp/tools</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>MCPServer not referenced in Agent</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  mcpServers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">my-mcp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Must be listed here</span></span></code></pre></div></li><li><p><strong>Tool discovery failed</strong></p><ul><li>Check MCPClient initialization in agent logs</li></ul></li><li><p><strong>Tools not enabled</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  agenticLoop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enableTools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Must be true</span></span></code></pre></div></li></ol><h2 id="operator-issues" tabindex="-1">Operator Issues <a class="header-anchor" href="#operator-issues" aria-label="Permalink to &quot;Operator Issues&quot;">​</a></h2><h3 id="operator-not-starting" tabindex="-1">Operator Not Starting <a class="header-anchor" href="#operator-not-starting" aria-label="Permalink to &quot;Operator Not Starting&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kaos-system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployment/kaos-operator-controller-manager</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>RBAC permissions missing</strong></p><ul><li>Leases permission required for leader election</li><li>Check <code>role.yaml</code> includes leases and events</li></ul></li><li><p><strong>CRDs not installed</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crds</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kaos.tools</span></span></code></pre></div></li><li><p><strong>Image not available</strong></p><ul><li>Check operator image is pullable</li></ul></li></ol><h3 id="resources-not-reconciling" tabindex="-1">Resources Not Reconciling <a class="header-anchor" href="#resources-not-reconciling" aria-label="Permalink to &quot;Resources Not Reconciling&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kaos-system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployment/kaos-operator-controller-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Operator not running</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kaos-system</span></span></code></pre></div></li><li><p><strong>Watch error</strong></p><ul><li>Check for permission errors in logs</li><li>Verify RBAC is correctly applied</li></ul></li><li><p><strong>Panic/crash</strong></p><ul><li>Check logs for stack traces</li><li>Report bugs with reproduction steps</li></ul></li></ol><h2 id="multi-agent-issues" tabindex="-1">Multi-Agent Issues <a class="header-anchor" href="#multi-agent-issues" aria-label="Permalink to &quot;Multi-Agent Issues&quot;">​</a></h2><h3 id="delegation-not-working" tabindex="-1">Delegation Not Working <a class="header-anchor" href="#delegation-not-working" aria-label="Permalink to &quot;Delegation Not Working&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check coordinator memory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port-forward</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/coordinator</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8000:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8000/memory/events</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.events[] | select(.event_type | contains(&quot;delegation&quot;))&#39;</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Peer agent not in access list</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">agentNetwork</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">worker-1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Must list all delegatable agents</span></span></code></pre></div></li><li><p><strong>Peer agent service not exposed</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">agentNetwork</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  expose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Required for peer agents</span></span></code></pre></div></li><li><p><strong>Delegation disabled</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  agenticLoop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enableDelegation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Must be true</span></span></code></pre></div></li><li><p><strong>Agent name mismatch</strong></p><ul><li>Name in delegation must match exactly</li></ul></li></ol><h3 id="delegation-timeout" tabindex="-1">Delegation Timeout <a class="header-anchor" href="#delegation-timeout" aria-label="Permalink to &quot;Delegation Timeout&quot;">​</a></h3><p><strong>Common Causes:</strong></p><ol><li><p><strong>Peer agent slow to respond</strong></p><ul><li>Increase timeout in RemoteAgent</li></ul></li><li><p><strong>Network issues</strong></p><ul><li>Check service connectivity</li></ul></li><li><p><strong>Peer agent overloaded</strong></p><ul><li>Scale peer agents or add replicas</li></ul></li></ol><h2 id="performance-issues" tabindex="-1">Performance Issues <a class="header-anchor" href="#performance-issues" aria-label="Permalink to &quot;Performance Issues&quot;">​</a></h2><h3 id="slow-response-times" tabindex="-1">Slow Response Times <a class="header-anchor" href="#slow-response-times" aria-label="Permalink to &quot;Slow Response Times&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check which step is slow</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app=my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;step\\|time&quot;</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Model too slow</strong></p><ul><li>Use smaller model for faster inference</li><li>Consider GPU acceleration</li></ul></li><li><p><strong>Too many agentic loop steps</strong></p><ul><li>Reduce <code>maxSteps</code> if appropriate</li><li>Improve instructions to reduce iterations</li></ul></li><li><p><strong>Tool execution slow</strong></p><ul><li>Optimize tool implementations</li><li>Add caching if appropriate</li></ul></li></ol><h3 id="memory-issues" tabindex="-1">Memory Issues <a class="header-anchor" href="#memory-issues" aria-label="Permalink to &quot;Memory Issues&quot;">​</a></h3><p><strong>Diagnosis:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> top</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span></span></code></pre></div><p><strong>Common Causes:</strong></p><ol><li><p><strong>Too many sessions</strong></p><ul><li>Sessions accumulate in memory</li><li>Consider periodic cleanup</li></ul></li><li><p><strong>Large model in Hosted mode</strong></p><ul><li>Increase memory limits</li><li>Use smaller model</li></ul></li></ol>`,77)])])}const c=i(t,[["render",l]]);export{g as __pageData,c as default};

name: E2E Tests

on:
  pull_request:
    branches: [main]
    paths:
      - 'operator/**'
      - 'python/**'
      - '.github/workflows/e2e-tests.yaml'
      - '.github/workflows/reusable-tests.yaml'
  push:
    branches: [main]
    paths:
      - 'operator/**'
      - 'python/**'
      - '.github/workflows/e2e-tests.yaml'
      - '.github/workflows/reusable-tests.yaml'
  workflow_dispatch:

jobs:
  e2e:
    uses: ./.github/workflows/reusable-tests.yaml
    with:
      run-unit: false  # Unit tests run in separate workflows
      run-e2e: true

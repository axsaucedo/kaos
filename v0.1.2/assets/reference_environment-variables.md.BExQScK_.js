import{_ as t,o as a,c as i,a2 as s}from"./chunks/framework.x4NSJ8gp.js";const E=JSON.parse('{"title":"Environment Variables Reference","description":"","frontmatter":{},"headers":[],"relativePath":"reference/environment-variables.md","filePath":"reference/environment-variables.md"}'),n={name:"reference/environment-variables.md"};function d(o,e,r,l,h,c){return a(),i("div",null,[...e[0]||(e[0]=[s(`<h1 id="environment-variables-reference" tabindex="-1">Environment Variables Reference <a class="header-anchor" href="#environment-variables-reference" aria-label="Permalink to &quot;Environment Variables Reference&quot;">​</a></h1><p>Complete reference for all environment variables used by the KAOS.</p><h2 id="agent-container-environment-variables" tabindex="-1">Agent Container Environment Variables <a class="header-anchor" href="#agent-container-environment-variables" aria-label="Permalink to &quot;Agent Container Environment Variables&quot;">​</a></h2><h3 id="required-variables" tabindex="-1">Required Variables <a class="header-anchor" href="#required-variables" aria-label="Permalink to &quot;Required Variables&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>AGENT_NAME</code></td><td>Unique agent identifier</td><td><code>my-agent</code></td></tr><tr><td><code>MODEL_API_URL</code></td><td>Base URL for LLM API</td><td><code>http://modelapi:8000</code></td></tr><tr><td><code>MODEL_NAME</code></td><td>Model identifier for LLM calls</td><td><code>openai/gpt-4o</code></td></tr></tbody></table><h3 id="agent-configuration" tabindex="-1">Agent Configuration <a class="header-anchor" href="#agent-configuration" aria-label="Permalink to &quot;Agent Configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>AGENT_DESCRIPTION</code></td><td>Human-readable description</td><td><code>AI Agent</code></td></tr><tr><td><code>AGENT_INSTRUCTIONS</code></td><td>System prompt for the agent</td><td><code>You are a helpful assistant.</code></td></tr><tr><td><code>AGENT_PORT</code></td><td>Server port</td><td><code>8000</code></td></tr><tr><td><code>AGENT_LOG_LEVEL</code></td><td>Logging level</td><td><code>INFO</code></td></tr></tbody></table><h3 id="agentic-loop-configuration" tabindex="-1">Agentic Loop Configuration <a class="header-anchor" href="#agentic-loop-configuration" aria-label="Permalink to &quot;Agentic Loop Configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>AGENTIC_LOOP_MAX_STEPS</code></td><td>Maximum reasoning iterations</td><td><code>5</code></td></tr></tbody></table><h3 id="memory-configuration" tabindex="-1">Memory Configuration <a class="header-anchor" href="#memory-configuration" aria-label="Permalink to &quot;Memory Configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>MEMORY_ENABLED</code></td><td>Enable/disable memory (use NullMemory when disabled)</td><td><code>true</code></td></tr><tr><td><code>MEMORY_TYPE</code></td><td>Memory implementation type (only <code>local</code> supported)</td><td><code>local</code></td></tr><tr><td><code>MEMORY_CONTEXT_LIMIT</code></td><td>Messages to include in delegation context</td><td><code>6</code></td></tr><tr><td><code>MEMORY_MAX_SESSIONS</code></td><td>Maximum sessions to keep in memory</td><td><code>1000</code></td></tr><tr><td><code>MEMORY_MAX_SESSION_EVENTS</code></td><td>Maximum events per session before eviction</td><td><code>500</code></td></tr></tbody></table><h3 id="sub-agent-configuration" tabindex="-1">Sub-Agent Configuration <a class="header-anchor" href="#sub-agent-configuration" aria-label="Permalink to &quot;Sub-Agent Configuration&quot;">​</a></h3><p><strong>Direct Format:</strong></p><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>AGENT_SUB_AGENTS</code></td><td>Comma-separated name:url pairs</td><td><code>worker-1:http://w1:8000,worker-2:http://w2:8000</code></td></tr></tbody></table><p><strong>Kubernetes Format:</strong></p><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>PEER_AGENTS</code></td><td>Comma-separated agent names</td><td><code>worker-1,worker-2</code></td></tr><tr><td><code>PEER_AGENT_&lt;NAME&gt;_CARD_URL</code></td><td>Individual agent URLs</td><td><code>http://worker-1.ns.svc:80</code></td></tr></tbody></table><p>Note: Replace <code>-</code> with <code>_</code> and use uppercase for variable name (e.g., <code>worker-1</code> → <code>PEER_AGENT_WORKER_1_CARD_URL</code>).</p><h3 id="logging-configuration" tabindex="-1">Logging Configuration <a class="header-anchor" href="#logging-configuration" aria-label="Permalink to &quot;Logging Configuration&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>AGENT_ACCESS_LOG</code></td><td>Enable uvicorn access logs</td><td><code>false</code></td></tr></tbody></table><h2 id="mcp-server-environment-variables" tabindex="-1">MCP Server Environment Variables <a class="header-anchor" href="#mcp-server-environment-variables" aria-label="Permalink to &quot;MCP Server Environment Variables&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>MCP_HOST</code></td><td>Server bind address</td><td><code>0.0.0.0</code></td></tr><tr><td><code>MCP_PORT</code></td><td>Server port</td><td><code>8000</code></td></tr><tr><td><code>MCP_TOOLS_STRING</code></td><td>Python code defining tools</td><td><code>&quot;&quot;</code></td></tr><tr><td><code>MCP_LOG_LEVEL</code></td><td>Logging level</td><td><code>INFO</code></td></tr><tr><td><code>MCP_ACCESS_LOG</code></td><td>Enable uvicorn access logs</td><td><code>false</code></td></tr></tbody></table><h2 id="modelapi-environment-variables" tabindex="-1">ModelAPI Environment Variables <a class="header-anchor" href="#modelapi-environment-variables" aria-label="Permalink to &quot;ModelAPI Environment Variables&quot;">​</a></h2><h3 id="proxy-mode-litellm" tabindex="-1">Proxy Mode (LiteLLM) <a class="header-anchor" href="#proxy-mode-litellm" aria-label="Permalink to &quot;Proxy Mode (LiteLLM)&quot;">​</a></h3><p>The operator automatically sets these environment variables based on ModelAPI spec:</p><table tabindex="0"><thead><tr><th>Variable</th><th>Source</th><th>Description</th></tr></thead><tbody><tr><td><code>PROXY_API_KEY</code></td><td><code>proxyConfig.apiKey</code></td><td>API key for LLM backend</td></tr><tr><td><code>PROXY_API_BASE</code></td><td><code>proxyConfig.apiBase</code></td><td>Base URL for LLM backend</td></tr></tbody></table><p>These are used in the generated LiteLLM config:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">model_list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">model_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openai/gpt-4o&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    litellm_params</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openai/gpt-4o&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      api_key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;os.environ/PROXY_API_KEY&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      api_base</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;os.environ/PROXY_API_BASE&quot;</span></span></code></pre></div><h4 id="custom-environment-variables" tabindex="-1">Custom Environment Variables <a class="header-anchor" href="#custom-environment-variables" aria-label="Permalink to &quot;Custom Environment Variables&quot;">​</a></h4><p>Add custom variables via <code>proxyConfig.env</code>:</p><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>OPENAI_API_KEY</code></td><td>OpenAI API key</td></tr><tr><td><code>ANTHROPIC_API_KEY</code></td><td>Anthropic API key</td></tr><tr><td><code>AZURE_API_KEY</code></td><td>Azure OpenAI API key</td></tr><tr><td>Any LiteLLM-supported var</td><td>See LiteLLM documentation</td></tr></tbody></table><h3 id="hosted-mode-ollama" tabindex="-1">Hosted Mode (Ollama) <a class="header-anchor" href="#hosted-mode-ollama" aria-label="Permalink to &quot;Hosted Mode (Ollama)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>OLLAMA_DEBUG</code></td><td>Enable debug logging</td></tr><tr><td><code>OLLAMA_HOST</code></td><td>Host to bind to</td></tr><tr><td><code>OLLAMA_MODELS</code></td><td>Model directory path</td></tr><tr><td>Any Ollama-supported var</td><td>See Ollama documentation</td></tr></tbody></table><h2 id="operator-set-variables" tabindex="-1">Operator-Set Variables <a class="header-anchor" href="#operator-set-variables" aria-label="Permalink to &quot;Operator-Set Variables&quot;">​</a></h2><p>The operator automatically sets these variables on agent pods:</p><h3 id="from-agent-crd" tabindex="-1">From Agent CRD <a class="header-anchor" href="#from-agent-crd" aria-label="Permalink to &quot;From Agent CRD&quot;">​</a></h3><table tabindex="0"><thead><tr><th>CRD Field</th><th>Environment Variable</th></tr></thead><tbody><tr><td><code>metadata.name</code></td><td><code>AGENT_NAME</code></td></tr><tr><td><code>spec.model</code></td><td><code>MODEL_NAME</code></td></tr><tr><td><code>config.description</code></td><td><code>AGENT_DESCRIPTION</code></td></tr><tr><td><code>config.instructions</code></td><td><code>AGENT_INSTRUCTIONS</code></td></tr><tr><td><code>config.reasoningLoopMaxSteps</code></td><td><code>AGENTIC_LOOP_MAX_STEPS</code></td></tr><tr><td><code>config.memory.enabled</code></td><td><code>MEMORY_ENABLED</code></td></tr><tr><td><code>config.memory.type</code></td><td><code>MEMORY_TYPE</code></td></tr><tr><td><code>config.memory.contextLimit</code></td><td><code>MEMORY_CONTEXT_LIMIT</code></td></tr><tr><td><code>config.memory.maxSessions</code></td><td><code>MEMORY_MAX_SESSIONS</code></td></tr><tr><td><code>config.memory.maxSessionEvents</code></td><td><code>MEMORY_MAX_SESSION_EVENTS</code></td></tr></tbody></table><h3 id="from-referenced-resources" tabindex="-1">From Referenced Resources <a class="header-anchor" href="#from-referenced-resources" aria-label="Permalink to &quot;From Referenced Resources&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Source</th><th>Environment Variable</th></tr></thead><tbody><tr><td>ModelAPI.status.endpoint</td><td><code>MODEL_API_URL</code></td></tr><tr><td><code>agentNetwork.access</code> list</td><td><code>PEER_AGENTS</code></td></tr><tr><td>Each peer agent service URL</td><td><code>PEER_AGENT_&lt;NAME&gt;_CARD_URL</code></td></tr></tbody></table><h2 id="custom-environment-variables-1" tabindex="-1">Custom Environment Variables <a class="header-anchor" href="#custom-environment-variables-1" aria-label="Permalink to &quot;Custom Environment Variables&quot;">​</a></h2><p>Add custom variables via <code>config.env</code>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CUSTOM_VAR</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-value&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SECRET_VAR</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      valueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        secretKeyRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">my-secrets</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">secret-key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CONFIG_VAR</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      valueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        configMapKeyRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">my-config</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">config-key</span></span></code></pre></div><p><strong>Note:</strong> <code>MODEL_NAME</code> is automatically set from <code>spec.model</code> and should not be overridden via <code>config.env</code>.</p><h2 id="environment-variable-precedence" tabindex="-1">Environment Variable Precedence <a class="header-anchor" href="#environment-variable-precedence" aria-label="Permalink to &quot;Environment Variable Precedence&quot;">​</a></h2><p>For agent pods, environment variables are applied in this order:</p><ol><li>Operator-generated variables (from CRD fields)</li><li><code>config.env</code> variables (can override operator-generated)</li></ol><h2 id="debugging-environment-variables" tabindex="-1">Debugging Environment Variables <a class="header-anchor" href="#debugging-environment-variables" aria-label="Permalink to &quot;Debugging Environment Variables&quot;">​</a></h2><p>Check environment variables on a running pod:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/agent-my-agent</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-namespace</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span></span></code></pre></div><p>Expected output:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>AGENT_DESCRIPTION=My agent</span></span>
<span class="line"><span>AGENT_INSTRUCTIONS=You are helpful.</span></span>
<span class="line"><span>AGENT_NAME=my-agent</span></span>
<span class="line"><span>AGENTIC_LOOP_MAX_STEPS=5</span></span>
<span class="line"><span>MEMORY_ENABLED=true</span></span>
<span class="line"><span>MEMORY_TYPE=local</span></span>
<span class="line"><span>MEMORY_CONTEXT_LIMIT=6</span></span>
<span class="line"><span>MEMORY_MAX_SESSIONS=1000</span></span>
<span class="line"><span>MEMORY_MAX_SESSION_EVENTS=500</span></span>
<span class="line"><span>MODEL_API_URL=http://modelapi.my-namespace.svc.cluster.local:8000</span></span>
<span class="line"><span>MODEL_NAME=openai/gpt-4o</span></span>
<span class="line"><span>PEER_AGENTS=worker-1,worker-2</span></span>
<span class="line"><span>PEER_AGENT_WORKER_1_CARD_URL=http://worker-1.my-namespace.svc.cluster.local</span></span>
<span class="line"><span>PEER_AGENT_WORKER_2_CARD_URL=http://worker-2.my-namespace.svc.cluster.local</span></span></code></pre></div>`,50)])])}const k=t(n,[["render",d]]);export{E as __pageData,k as default};
